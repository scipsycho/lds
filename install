#!/bin/bash

if [ -d ~/lds ]
then
rm -rf ~/lds
fi
mkdir ~/lds
cp -r ./bin ~/lds/

BIN_DIR="$HOME/lds/bin"
BASH_PROFILE=".bashrc"

if [[ `uname -s` == *"Darwin"* ]]
then 
BASH_PROFILE='.bash_profile'
fi

echo ''  > /tmp/ENV_VAR_LDS
echo '#for Lazy Developer Script'  >> /tmp/ENV_VAR_LDS
echo "export PATH=$BIN_DIR:"'$PATH'  >> /tmp/ENV_VAR_LDS

#for running tellmyip at start
echo "$BIN_DIR/tellmyip" >> /tmp/ENV_VAR_LDS

if [[ "$PATH" == *$BIN_DIR* ]]
then 
	echo "Path already added!! Skipping!"
	echo "Make sure the following lines are in $HOME/$BASH_PROFILE"
	cat /tmp/ENV_VAR_LDS
	rm /tmp/ENV_VAR_LDS
	exit
fi

cat /tmp/ENV_VAR_LDS >> "$HOME/$BASH_PROFILE"
rm /tmp/ENV_VAR_LDS

source "$HOME/$BASH_PROFILE"

echo "Installed..." 
